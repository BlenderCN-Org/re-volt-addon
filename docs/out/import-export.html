<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Import and Export Specifications</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="fonts.css">
    <link rel="stylesheet" href="theme.css">
    <link rel="stylesheet" href="pygments.css">
    
    
  </head>

  <body class="node-import-export node">

    <header class="masthead">
      <h1><a href="index.html">Re-Volt Add-On Documentation</a></h1>
      
        <p class="tagline">Documentation for the Blender 2.79a Re-Volt Add-on</p>
      
      <nav class="menu">
        <input id="menu-check" type="checkbox"/>
        <label id="menu-label" for="menu-check" class="unselectable">
          <span class="icon close-icon">✕</span>
          <span class="icon open-icon">☰</span>
          <span class="text">Menu</span>
        </label>
        <ul>
<li><a href="index.html">Home</a></li>
<li><a href="changelog.html">Changelog</a></li>
<li><a href="features.html">Features</a></li>
<li><a href="installation.html">Installation</a></li>
<li><a href="tools-panel.html">Tools Panel</a><ul>
<li><a href="tools-panel/tools-panel-settings.html">Add-On Settings</a></li>
<li><a href="tools-panel/tools-panel-helpers.html">Helpers</a></li>
<li><a href="tools-panel/tools-panel-io.html">Import/Export</a></li>
<li><a href="tools-panel/tools-panel-light.html">Light/Shadow</a></li>
<li><a href="tools-panel/tools-panel-instances.html">Instances</a></li>
<li><a href="tools-panel/tools-panel-faceprops.html">Face Properties</a></li>
<li><a href="tools-panel/tools-panel-vcol.html">Vertex Color</a></li>
<li><a href="tools-panel/tools-panel-material.html">Material</a></li>
<li><a href="tools-panel/tools-panel-texanim.html">Texture Animation</a></li>
</ul>
</li>
<li><a href="properties.html">Properties</a><ul>
<li><a href="properties/object-properties.html">Object Properties</a></li>
<li><a href="properties/scene-properties.html">Scene Properties</a></li>
</ul>
</li>
<li><a href="import-export.html">Import/Export Specifications</a></li>
<li><a href="rvdocs.html">Re-Volt Documentation</a><ul>
<li><a href="rvdocs/cars.html">Cars</a><ul>
<li><a href="rvdocs/cars/parameters.html">Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
      </nav>
    </header>

    <article class="main">
      <header class="title">
        <h1>Import and Export Specifications</h1>
        
        <hr>
      </header>
      <ul class="stx-toc">
<li>
<a href="#importing-files">Importing Files</a>
</li>
<li>
<a href="#prm">PRM</a>
</li>
<li>
<a href="#mesh-data">Mesh Data</a>
<ul>
<li>
<a href="#import-2">Import</a>
</li>
<li>
<a href="#export">Export</a>
</li>
</ul>
</li>
<li>
<a href="#uv-map">UV Map</a>
<ul>
<li>
<a href="#export-2">Export</a>
</li>
<li>
<a href="#export-3">Export</a>
</li>
</ul>
</li>
<li>
<a href="#vertex-colors">Vertex Colors</a>
<ul>
<li>
<a href="#import-3">Import</a>
</li>
<li>
<a href="#export-4">Export</a>
</li>
</ul>
</li>
<li>
<a href="#level-of-detail-lod">Level of Detail (LOD)</a>
<ul>
<li>
<a href="#import-4">Import</a>
</li>
</ul>
</li>
<li>
<a href="#textures">Textures</a>
<ul>
<li>
<a href="#import-5">Import</a>
</li>
<li>
<a href="#export-5">Export</a>
</li>
</ul>
</li>
<li>
<a href="#face-type">Face Type</a>
<ul>
<li>
<a href="#import-6">Import</a>
</li>
<li>
<a href="#export-6">Export</a>
</li>
</ul>
</li>
<li>
<a href="#world-w">World (.w)</a>
<ul>
<li>
<a href="#import-7">Import</a>
<ul>
<li>
<a href="#meshes">Meshes</a>
</li>
<li>
<a href="#texture-animation">Texture Animation</a>
</li>
<li>
<a href="#debug">Debug</a>
</li>
</ul>
</li>
<li>
<a href="#export-7">Export</a>
</li>
</ul>
</li>
<li>
<a href="#ncp-collision">NCP (Collision)</a>
<ul>
<li>
<a href="#import-8">Import</a>
</li>
<li>
<a href="#export-8">Export</a>
</li>
</ul>
</li>
<li>
<a href="#parameters-txt-car">parameters.txt (Car)</a>
<ul>
<li>
<a href="#import-9">Import</a>
</li>
</ul>
</li>
</ul>
<h1 id="import">
Import
</h1>
<h2 id="importing-files">
Importing Files
</h2>
<p>
Re-Volt files can be imported via the File menu (File -&gt; Import -&gt; Re-Volt).
There also is a button in the Re-Volt tab of the tool shelf of the 3D view.
</p>
<h2 id="prm">
PRM
</h2>
<h2 id="mesh-data">
Mesh Data
</h2>
<h3 id="import-2">
Import
</h3>
<p>
An object with the mesh will be linked to the current scene. Meshes consist of quads and tris.
</p>
<h3 id="export">
Export
</h3>
<p>
N-gons will be triangulate by default. This can be disabled in the export settings.
</p>
<h2 id="uv-map">
UV Map
</h2>
<h3 id="export-2">
Export
</h3>
<p>
The UV map of the mesh can be found on the default UV layer (UVMap).
</p>
<h3 id="export-3">
Export
</h3>
<p>
Only the uv map called <em>UVMap</em> will be exported.
</p>
<h2 id="vertex-colors">
Vertex Colors
</h2>
<h3 id="import-3">
Import
</h3>
<p>
The vertex colors can be found on the Col and Alpha layers.
On the alpha channel, white is fully transparent while black is opaque.
</p>
<h3 id="export-4">
Export
</h3>
<p>
Only the layers <em>Col</em> and <em>Alpha</em> will be exported.
</p>
<h2 id="level-of-detail-lod">
Level of Detail (LOD)
</h2>
<h3 id="import-4">
Import
</h3>
<p>
If a PRM file includes mulitple meshes, all of them will be imported.
A suffix will be appended to the mesh name ("|q0" is the highest quality, "|q3 is a lower quality").
A fake user will be assigned to them so they're not lost when saving the file.
</p>
<h2 id="textures">
Textures
</h2>
<h3 id="import-5">
Import
</h3>
<p>
If the imported mesh is a car mesh, the texture path will be taken from the parameters.txt.
If it's a level file, the texture name will be generated from the polygon's texture number and taken from the level folder.
If a texture file cannot be found, a 512x512 dummy texture will be generated.
If a texture with the same name already exist, it will be used instead.
</p>
<p>
The texture number is also written onto a bmesh integer layer. This layer can be used instead of the texture on the tex layer for exporting.
</p>
<h3 id="export-5">
Export
</h3>
<p>
To set the texture using this number layer, the <em>Use Number for Textures</em> setting has to be set in the export settings.
When exporting, the texture number will be taken from the layer instead of being determined by the texture file assigned to the face.
</p>
<p>
If there is no texture present on a face, texture page 0 (A) will be used. If you actually want to export a mesh without a texture, enable the <em>Use Number for Textures</em> and set the number to <code>-1</code>.
</p>
<h2 id="face-type">
Face Type
</h2>
<h3 id="import-6">
Import
</h3>
<p>
The face types can be accessed with the Mesh properties which each have setter and getter functions that operate on int layers via bmesh.
The face type layer is called "Type".
There is a Re-Volt tab in the Tool panel of the 3D view that allows users
to set face properties in Edit mode.
</p>
<h3 id="export-6">
Export
</h3>
<p>
All selected face type properties will be set when exporting.
</p>
<h2 id="world-w">
World (.w)
</h2>
<h3 id="import-7">
Import
</h3>
<h4 id="meshes">
Meshes
</h4>
<p>
See PRM. The only addition is the environment color list that defines a specularity color for certain polygons if the flag is enabled for them.
</p>
<p>
The environment color is accessible on a vertex color layer called <em>Env</em>.
The alpha value of the color is only accessible via the face property editing panel since it's written to a per-face float layer (<em>EnvAlpha</em>).
</p>
<p>
Do note that environment colors are per-polygon. The average color will be sampled from the vertex color layer when an env-enabled polygon is selected.
</p>
<h4 id="texture-animation">
Texture Animation
</h4>
<p>
Animations are stored in a dictionary that can be accessed in the <em>Properties</em> editor (<em>Scene</em> section).
</p>
<h4 id="debug">
Debug
</h4>
<p>
Bounding boxes, bounding spheres and "big cubes" (spheres) can be imported to selected layers. They are for debug purposes only and they will not affect the export in any way.
</p>
<h3 id="export-7">
Export
</h3>
<p>
Nothing noteworthy. Exports files the way they have been imported.
</p>
<h2 id="ncp-collision">
NCP (Collision)
</h2>
<h3 id="import-8">
Import
</h3>
<p>
NCP flags and materials are written to the integer layers "NCPFlags" and "Material". A preview color for the materials is written to the "NCPPreview" vertex color channel.
</p>
<h3 id="export-8">
Export
</h3>
<p>
All objects of the scene will  be merged into one mesh and then exported to the file. Objects will be ignored if they're a debug object or have the <em>ignore</em> object property set (Properties Editor).
Faces that have the material <code>NONE</code> assigned to them will not be exported.
The vertex color layer called "NCPPreview" will be ignored since it's only for previewing purposes.
</p>
<p>
A lookup grid will be automatically exported. This can be turned off in the export settings.
</p>
<h2 id="parameters-txt-car">
parameters.txt (Car)
</h2>
<h3 id="import-9">
Import
</h3>
<p>
The add-on currently imports the car's body and wheels and their positions.
If a wheel file cannot be found, it will be represented with an empty object.
</p>

    </article>

    

  </body>
</html>
